# Immigration Monitor Configuration
# Add/remove sources and keywords without touching code

# ============================================================
# Telegram Configuration
# ============================================================
telegram:
  # Your Telegram API credentials (get from https://my.telegram.org)
  api_id: "YOUR_API_ID"
  api_hash: "YOUR_API_HASH"
  phone: "+1234567890"
  session_name: "immigration_monitor"

  # Bot token for sending notifications
  bot_token: "YOUR_BOT_TOKEN"
  # Chat/channel ID where notifications will be sent
  notification_channel_id: -1001234567890

  # Groups/chats to monitor (usernames or invite links)
  # Add new groups here - no code changes needed
  groups:
    # Ukrainian/Russian immigration chats
    - username: "welcome_to_chicago"
      name: "Welcome to Chicago"
      language: "ru/uk"
    # Add more groups:
    # - username: "group_username"
    #   name: "Human readable name"
    #   language: "ru/uk/en"
    # - invite_link: "https://t.me/+ABC123"
    #   name: "Private group name"
    #   language: "ru"

  # Telegram channels to monitor (one-way broadcasts by admins)
  # Unlike groups, channel posts are from the channel itself, not individual users
  channels:
    # --- Russian-language immigration channels ---
    - username: "mamaamericaru"
      name: "–ò–º–º–∏–≥—Ä–∞—Ü–∏—è –≤ –°–®–ê üóΩ"
      language: "ru"
      # Topics: asylum, visas, green card, immigration attorney
    - username: "rubicusa"
      name: "Rubic.US –ò–º–º–∏–≥—Ä–∞—Ü–∏—è"
      language: "ru"
      # Topics: general immigration to USA, adaptation, legal questions
    - username: "americaindetails"
      name: "–í–∏–∑–∞ —Ç–∞–ª–∞–Ω—Ç–æ–≤ –°–®–ê"
      language: "ru"
      # Topics: O-1/EB-1 talent visas, business immigration
    - username: "mooreamerica"
      name: "–ê–ª–µ–∫—Å –ú—É—Ä: –∏–º–º–∏–≥—Ä–∞—Ü–∏—è –≤ –°–®–ê"
      language: "ru"
      # Topics: immigration guides, personal cases, legal advice

    # --- Ukrainian channels ---
    - username: "ukrainianrefugeesinusa"
      name: "–£–∫—Ä–∞–∏–Ω—Å–∫–∏–µ –±–µ–∂–µ–Ω—Ü—ã –≤ –°–®–ê"
      language: "uk"
      # Topics: Ukrainian refugees, Uniting for Ukraine (U4U), asylum, TPS
    - username: "US4Ukraine"
      name: "–°–®–ê –¥–ª—è —É–∫—Ä–∞—ó–Ω—Ü—ñ–≤"
      language: "uk"
      # Topics: verified news for Ukrainian refugees in USA

    # --- English-language channels ---
    - username: "ImmigrationVoice"
      name: "Immigration Voice"
      language: "en"
      # Topics: EB green card advocacy, per-country caps, H-1B updates

  # How many messages to fetch per group/channel per check
  messages_limit: 100
  # How far back to look (in hours)
  lookback_hours: 2
  # Check interval in minutes
  check_interval_minutes: 30

# ============================================================
# Reddit Configuration (RSS)
# ============================================================
reddit:
  # No API credentials needed - using RSS feeds!
  # Note: RSS feeds only show posts, not comments

  # Subreddits to monitor
  subreddits:
    # Main immigration subs
    - name: "immigration"
    - name: "USCIS"
    - name: "askimmigration"
    - name: "immigrationlaw"
    - name: "greencard"
    - name: "usimmigration"
    # Ukraine-specific
    - name: "UnitingForUkraine"
    - name: "ukraine"
    # Local
    - name: "chicago"
    # Visa-specific
    - name: "h1b"
    - name: "eb2niw"
    # New subs
    - name: "ICE_Raids"

  # How many posts to fetch per subreddit per check
  posts_limit: 50
  # Check interval in minutes
  check_interval_minutes: 15

# ============================================================
# Classification / Relevance Detection
# ============================================================
classification:
  # Method: "keywords" (free), "ai" (Claude API), or "hybrid" (keywords first, then AI)
  method: "hybrid"

  # Claude API settings (for "ai" or "hybrid" methods)
  anthropic_api_key: "YOUR_ANTHROPIC_API_KEY"
  model: "claude-haiku-4-5-20251001"

  # ‚îÄ‚îÄ English classifier (hybrid: keywords ‚Üí AI) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  en:
    min_keyword_matches: 1

    keywords:
      - "immigration"
      - "immigrant"
      - "visa"
      - "green card"
      - "greencard"
      - "asylum"
      - "refugee"
      - "deportation"
      - "deport"
      - "USCIS"
      - "ICE"
      - "TPS"
      - "DACA"
      - "naturalization"
      - "citizenship"
      - "work permit"
      - "EAD"
      - "I-130"
      - "I-485"
      - "I-765"
      - "I-140"
      - "I-601"
      - "N-400"
      - "H-1B"
      - "H1B"
      - "O-1"
      - "O1"
      - "EB-1"
      - "EB1"
      - "EB-2"
      - "EB2"
      - "NIW"
      - "CBP"
      - "consulate"
      - "petition"
      - "sponsor"
      - "undocumented"
      - "overstay"
      - "adjustment of status"
      - "removal proceedings"
      - "immigration lawyer"
      - "immigration attorney"

    question_markers:
      - "?"
      - "how do i"
      - "how can i"
      - "anyone know"
      - "does anyone"
      - "has anyone"
      - "can someone"
      - "need help"
      - "need advice"
      - "what should"
      - "what happens"
      - "is it possible"
      - "looking for"
      - "recommend"
      - "experience with"
      - "help please"
      - "advice"

  # ‚îÄ‚îÄ Russian classifier (AI-first; keywords used as fallback only) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  # Note: Russian is morphologically rich ("–≤–∏–∑–∞" ‚â† "–≤–∏–∑—É/–≤–∏–∑–æ–π/–≤–∏–∑—ã"), so
  # keyword pre-filtering is unreliable. The AI prompt includes an explicit
  # hint about implicit questions common in Telegram.
  ru:
    keywords:
      # Core immigration terms
      - "–∏–º–º–∏–≥—Ä–∞—Ü–∏—è"
      - "–∏–º–º–∏–≥—Ä–∞–Ω—Ç"
      - "–≤–∏–∑–∞"
      - "–≥—Ä–∏–Ω –∫–∞—Ä—Ç–∞"
      - "–≥—Ä–∏–Ω-–∫–∞—Ä—Ç–∞"
      - "—É–±–µ–∂–∏—â–µ"
      - "–¥–µ–ø–æ—Ä—Ç–∞—Ü–∏—è"
      - "–≥—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ"
      - "–Ω–∞—Ç—É—Ä–∞–ª–∏–∑–∞—Ü–∏—è"
      - "—Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ä–∞–±–æ—Ç—É"
      - "—Ä–∞–±–æ—á–∞—è –≤–∏–∑–∞"
      - "–ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–æ–µ —É–±–µ–∂–∏—â–µ"
      - "–±–µ–∂–µ–Ω–µ—Ü"
      - "–Ω–µ–ª–µ–≥–∞–ª"
      - "–¥–æ–∫—É–º–µ–Ω—Ç—ã"
      - "–ª–µ–≥–∞–ª–∏–∑–∞—Ü–∏—è"
      - "–∞–¥–≤–æ–∫–∞—Ç –ø–æ –∏–º–º–∏–≥—Ä–∞—Ü–∏–∏"
      - "—é—Ä–∏—Å—Ç –ø–æ –∏–º–º–∏–≥—Ä–∞—Ü–∏–∏"
      - "–∫–æ–Ω—Å—É–ª—å—Å—Ç–≤–æ"
      - "–ø–µ—Ç–∏—Ü–∏—è"
      # Telegram-specific (USCIS processes, ICE, courts)
      - "—Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–µ"       # USCIS interview
      - "–∏–Ω—Ç–µ—Ä–≤—å—é"            # interview (colloquial)
      - "–±–∏–æ–º–µ—Ç—Ä–∏—è"           # biometrics appointment
      - "–æ—Ç–ø–µ—á–∞—Ç–∫–∏"           # fingerprints
      - "–∞–ø–µ–ª–ª—è—Ü–∏—è"           # appeal
      - "–∏–º–º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å—É–¥"  # immigration court
      - "—Å–ª—É—à–∞–Ω–∏–µ"            # hearing
      - "—Ä–µ–π–¥—ã"               # ICE raids
      - "–∑–∞–¥–µ—Ä–∂–∞–ª–∏"           # detained
      - "–ø–∞—Ä–æ–ª"               # parole (immigration)
      - "–ø—Ä–æ–¥–ª–µ–Ω–∏–µ"           # extension (visa/status)
      - "–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã" # border crossing
      - "–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –≤—ã–¥–≤–æ—Ä–µ–Ω–∏–µ"
      - "—Å—Ç–∞—Ç—É—Å –±–µ–∂–µ–Ω—Ü–∞"
      - "–æ—Ç–∫–∞–∑"               # denial
      - "–æ—Ç–∫–∞–∑–∞–ª–∏"            # they denied

    question_markers:
      # Explicit
      - "?"
      - "–∫—Ç–æ –∑–Ω–∞–µ—Ç"
      - "–∫—Ç–æ-–Ω–∏–±—É–¥—å"
      - "–ø–æ–¥—Å–∫–∞–∂–∏—Ç–µ"
      - "–ø–æ–º–æ–≥–∏—Ç–µ"
      - "–∫–∞–∫ –º–Ω–µ"
      - "—á—Ç–æ –¥–µ–ª–∞—Ç—å"
      - "–Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å"
      - "–Ω—É–∂–µ–Ω —Å–æ–≤–µ—Ç"
      - "–ø–æ—Å–æ–≤–µ—Ç—É–π—Ç–µ"
      - "–∫—Ç–æ —Å—Ç–∞–ª–∫–∏–≤–∞–ª—Å—è"
      - "–µ—Å—Ç—å –æ–ø—ã—Ç"
      - "—Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ"
      - "–ø–æ–¥–µ–ª–∏—Ç–µ—Å—å"
      - "–≤–æ–ø—Ä–æ—Å"
      # Implicit questions (Telegram-specific, no "?" required)
      - "—Å–∏—Ç—É–∞—Ü–∏—è —Ç–∞–∫–∞—è"
      - "–∫—É–¥–∞ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è"
      - "–∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å"
      - "–º–æ–∂–Ω–æ –ª–∏"
      - "–∏–º–µ—é –ª–∏ –ø—Ä–∞–≤–æ"
      - "—á—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏"
      - "–Ω–µ –∑–Ω–∞—é —á—Ç–æ –¥–µ–ª–∞—Ç—å"
      - "–Ω–µ –¥–∞—é—Ç"
      - "–∫—É–¥–∞ –∏–¥—Ç–∏"
      - "–æ–±—ä—è—Å–Ω–∏—Ç–µ"
      - "–Ω–µ –ø–æ–Ω–∏–º–∞—é"
      - "–≤–æ–∑–º–æ–∂–Ω–æ –ª–∏"
      - "–∫–∞–∫ –¥–æ–ª–≥–æ"

  # ‚îÄ‚îÄ Ukrainian classifier (AI-first; falls back to ru section if empty) ‚îÄ‚îÄ
  uk:
    keywords:
      - "—ñ–º–º—ñ–≥—Ä–∞—Ü—ñ—è"
      - "—ñ–º–º—ñ–≥—Ä–∞–Ω—Ç"
      - "–≤—ñ–∑–∞"
      - "–≥—Ä—ñ–Ω –∫–∞—Ä—Ç–∞"
      - "–ø—Ä–∏—Ç—É–ª–æ–∫"
      - "–¥–µ–ø–æ—Ä—Ç–∞—Ü—ñ—è"
      - "–≥—Ä–æ–º–∞–¥—è–Ω—Å—Ç–≤–æ"
      - "–¥–æ–∑–≤—ñ–ª –Ω–∞ —Ä–æ–±–æ—Ç—É"
      - "–±—ñ–∂–µ–Ω–µ—Ü—å"
      - "–ª–µ–≥–∞–ª—ñ–∑–∞—Ü—ñ—è"
      - "–∞–¥–≤–æ–∫–∞—Ç –∑ —ñ–º–º—ñ–≥—Ä–∞—Ü—ñ—ó"
      - "–∫–æ–Ω—Å—É–ª—å—Å—Ç–≤–æ"
      - "—Å–ø—ñ–≤–±–µ—Å—ñ–¥–∞"          # interview
      - "–±—ñ–æ–º–µ—Ç—Ä—ñ—è"           # biometrics
      - "–∞–ø–µ–ª—è—Ü—ñ—è"            # appeal
      - "–≤—ñ–¥–º–æ–≤–∏–ª–∏"           # they denied
      - "–∑–∞—Ç—Ä–∏–º–∞–ª–∏"           # detained
      - "–ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è"         # extension

    question_markers:
      - "?"
      - "—Ö—Ç–æ –∑–Ω–∞—î"
      - "–ø—ñ–¥–∫–∞–∂—ñ—Ç—å"
      - "–¥–æ–ø–æ–º–æ–∂—ñ—Ç—å"
      - "—è–∫ –º–µ–Ω—ñ"
      - "—â–æ —Ä–æ–±–∏—Ç–∏"
      - "–ø–æ—Ç—Ä—ñ–±–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞"
      - "–ø–æ—Ç—Ä—ñ–±–Ω–∞ –ø–æ—Ä–∞–¥–∞"
      - "–ø–æ—Ä–∞–¥—å—Ç–µ"
      - "—Ö—Ç–æ —Å—Ç–∏–∫–∞–≤—Å—è"
      # Implicit questions
      - "–∫—É–¥–∏ –∑–≤–µ—Ä–Ω—É—Ç–∏—Å—å"
      - "—è–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏"
      - "—á–∏ –º–æ–∂–Ω–∞"
      - "—â–æ –±—É–¥–µ —è–∫—â–æ"
      - "–Ω–µ –∑–Ω–∞—é —â–æ —Ä–æ–±–∏—Ç–∏"
      - "–Ω–µ —Ä–æ–∑—É–º—ñ—é"
      - "—è–∫ –¥–æ–≤–≥–æ"

# ============================================================
# Notification Settings
# ============================================================
notifications:
  # Maximum messages per hour (to avoid spam)
  max_per_hour: 30
  # Minimum text length to consider
  min_text_length: 30
  # Include AI-generated draft response
  include_draft_response: true
  # Language for draft responses
  draft_language: "same"  # "same" = match source language, or "en", "ru", "uk", "es"

# ============================================================
# Database
# ============================================================
database:
  # SQLite database path for deduplication
  path: "data/processed.db"

# ============================================================
# Logging
# ============================================================
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  file: "logs/monitor.log"
